<div class="user-profile-container content" *ngIf="user && user.name">
  <h1>{{ editMode ? "Edit Profile" : user.name + "'s Profile" }}</h1>

  <form *ngIf="editMode" [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="fullName">Full Name</label>
      <input id="fullName" formControlName="fullName" type="text" />
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" formControlName="email" type="email" />
    </div>

    <div class="form-group">
      <label for="phone">Phone</label>
      <input id="phone" formControlName="phone" type="text" />
    </div>

    <div class="form-group">
      <label for="profilePicture">Profile Picture</label>
      <input
        id="profilePicture"
        formControlName="profilePicture"
        type="file"
        (change)="onFileChange($event)"
      />
    </div>

    <div class="form-actions">
      <button type="submit" class="primary-button">Save</button>
      <button type="button" (click)="toggleEditMode()" class="secondary-button">Cancel</button>
    </div>
  </form>

  <div *ngIf="!editMode">
    <div class="profile-header">
      <img
        [src]="profilePictureUrl"
        alt="Profile Picture"
        class="profile-picture"
        (error)="onImageError($event)"
      />
    </div>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Phone:</strong> {{ user.phone }}</p>
    <p><strong>Profile Picture:</strong></p>
 
    <div class="form-actions">
      <button (click)="toggleEditMode()" class="primary-button">Edit Profile</button>
    </div>
  </div>
</div>
